(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function m(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerPolicy&&(e.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?e.credentials="include":s.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function r(s){if(s.ep)return;s.ep=!0;const e=m(s);fetch(s.href,e)}})();function B(){$(".icon1").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse01.png"),$("#header").css("background-color","red"),$("#footer .info").html("현재 빨간 뮤직듣기를 드래그 했습니다.")},stop:function(){setTimeout(function(){o()},1e3)}}),$(".icon2").draggable({containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse02.png"),$("#header").css("background-color","blue"),$("#footer .info").html("현재 파란 뮤직듣기를 드래그 했습니다.")},stop:function(){setTimeout(function(){o()},1e3)}}),$(".icon3").draggable({containment:".icon__box",scroll:!1,containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse03.png"),$("#header").css("background-color","green"),$("#footer .info").html("현재 그린 뮤직듣기를 드래그 했습니다.")},stop:function(){setTimeout(function(){o()},1e3)}}),$(".icon4").draggable({containment:".icon__box",scroll:!1,containment:".icon__box",scroll:!1,start:function(){$(".cursor img").attr("src","images/game_mouse04.png"),$("#header").css("background-color","yellow"),$("#footer .info").html("현재 노란 뮤직듣기를 드래그 했습니다.")},stop:function(){setTimeout(function(){o()},1e3)}}),$(".music__wrap").draggable({scroll:!1}),window.onload=function(){window.addEventListener("mousemove",r=>{gsap.to(".cursor",{duration:0,left:r.pageX-5,top:r.pageY-10})})};function a(){const r=document.querySelector(".time"),s=new Date;let e=s.getDate();e<10&&(e=`0${e}`);let i=s.getHours();i>12?i=`오후 ${i-12}`:i=`오전 ${i}`;let l=s.getMinutes();l<10&&(l=`0${l}`),s.getSeconds();const L=s.getFullYear()+"년 "+(s.getMonth()+1)+"월 "+e+"일 "+i+"시 "+l+"분 ";r.innerText=L,setTimeout(a,1e3)}a();function o(){let r=navigator.userAgent.toLowerCase(),s=screen.width,e=screen.height,i=document.querySelector("#footer .info");r.indexOf("windows")>=0?i.innerHTML="현재 윈도우를 사용하고 있으며, 화면 크기는 "+s+"x"+e+" 입니다.":r.indexOf("macintosh")>=0?i.innerHTML="현재 맥을 사용하고 있으며, 화면 크기는 "+s+"x"+e+" 입니다.":r.indexOf("iphone")>=0?i.innerHTML="현재 아이폰을 사용하고 있으며, 화면 크기는 "+s+"x"+e+" 입니다.":r.indexOf("android")>=0&&(i.innerHTML="현재 안드로이드 폰을 사용하고 있으며, 화면 크기는 "+s+"x"+e+" 입니다.")}o();var m=function(){$(".rain").empty();for(var r=0,s="",e="";r<100;){var i=Math.floor(Math.random()*98+1),l=Math.floor(Math.random()*(5-2+1)+2);r+=l,s+='<div class="drop" style="left: '+r+"%; bottom: "+(l+l-1+100)+"%; animation-delay: 0."+i+"s; animation-duration: 0.5"+i+'s;"><div class="stem" style="animation-delay: 0.'+i+"s; animation-duration: 0.5"+i+'s;"></div><div class="splat" style="animation-delay: 0.'+i+"s; animation-duration: 0.5"+i+'s;"></div></div>',e+='<div class="drop" style="right: '+r+"%; bottom: "+(l+l-1+100)+"%; animation-delay: 0."+i+"s; animation-duration: 0.5"+i+'s;"><div class="stem" style="animation-delay: 0.'+i+"s; animation-duration: 0.5"+i+'s;"></div><div class="splat" style="animation-delay: 0.'+i+"s; animation-duration: 0.5"+i+'s;"></div></div>'}$(".rain.front-row").append(s),$(".rain.back-row").append(e)};$(".splat-toggle.toggle").on("click",function(){$("body").toggleClass("splat-toggle"),$(".splat-toggle.toggle").toggleClass("active"),m()}),$(".back-row-toggle.toggle").on("click",function(){$("body").toggleClass("back-row-toggle"),$(".back-row-toggle.toggle").toggleClass("active"),m()}),$(".single-toggle.toggle").on("click",function(){$("body").toggleClass("single-toggle"),$(".single-toggle.toggle").toggleClass("active"),m()}),m()}function I(){const a=[{name:"1. 마마마마",artist:"Easda sas",img:"music_view01",audio:"music_audio01"},{name:"2. 마마마마",artist:"Easda sas",img:"music_view02",audio:"music_audio02"},{name:"3. 마마마마",artist:"Easda sas",img:"music_view03",audio:"music_audio03"},{name:"4. 마마마마",artist:"Easda sas",img:"music_view04",audio:"music_audio04"},{name:"5. 마마마마",artist:"Easda sas",img:"music_view05",audio:"music_audio05"},{name:"6. 마마마마",artist:"Easda sas",img:"music_view06",audio:"music_audio06"},{name:"7. 마마마마",artist:"Easda sas",img:"music_view07",audio:"music_audio07"},{name:"8. 마마마마",artist:"Easda sas",img:"music_view08",audio:"music_audio08"},{name:"9. 마마마마",artist:"Easda sas",img:"music_view09",audio:"music_audio09"},{name:"10. 마마마마",artist:"Easda sas",img:"music_view10",audio:"music_audio10"}],o=document.querySelector(".music__wrap"),m=o.querySelector(".music__control .title h3"),r=o.querySelector(".music__control .title p"),s=o.querySelector(".music__view .image img"),e=o.querySelector("#main-audio"),i=o.querySelector("#control-play"),l=o.querySelector("#control-prev"),L=o.querySelector("#control-next"),M=o.querySelector(".progress"),S=o.querySelector(".progress .bar"),k=o.querySelector(".progress .timer .current"),E=o.querySelector(".progress .timer .duration"),d=o.querySelector("#control-repeat"),q=o.querySelector("#control-list"),x=o.querySelector(".music__list"),b=o.querySelector(".music__list ul"),T=o.querySelector(".music__list h3 .close");let c=1;const _=t=>{m.innerText=a[t-1].name,r.innerText=a[t-1].artist,s.src=`images/${a[t-1].img}.png`,s.alt=a[t-1].name,e.src=`audio/${a[t-1].audio}.mp3`},y=()=>{o.classList.add("paused"),i.setAttribute("title","정지"),i.setAttribute("class","stop"),e.play()},P=()=>{o.classList.remove("paused"),i.setAttribute("title","재생"),i.setAttribute("class","play"),e.pause()},O=()=>{c==1?c=a.length:c--,_(c),y(),h()},A=()=>{c==a.length?c=1:c++,_(c),y(),h()};e.addEventListener("timeupdate",t=>{const n=t.target.currentTime,u=t.target.duration;let g=n/u*100;S.style.width=`${g}%`,e.addEventListener("loadeddata",()=>{let f=e.duration,C=Math.floor(f/60),w=Math.floor(f%60);w<10&&(w=`0${w}`),E.innerText=`${C}:${w}`});let v=Math.floor(n/60),p=Math.floor(n%60);p<10&&(p=`0${p}`),k.innerText=`${v}:${p}`}),M.addEventListener("click",t=>{let n=M.clientWidth,u=t.offsetX,g=e.duration;e.currentTime=u/n*g}),d.addEventListener("click",()=>{switch(d.getAttribute("class")){case"repeat":d.setAttribute("class","repeat_one"),d.setAttribute("title","한곡 반복");break;case"repeat_one":d.setAttribute("class","shuffle"),d.setAttribute("title","랜덤 반복");break;case"shuffle":d.setAttribute("class","repeat"),d.setAttribute("title","전체 반복");break}}),e.addEventListener("ended",()=>{switch(d.getAttribute("class")){case"repeat":A();break;case"repeat_one":y();break;case"shuffle":let n=Math.floor(Math.random()*a.length+1);do n=Math.floor(Math.random()*a.length+1);while(c==n);c=n,_(c),y();break}h()}),i.addEventListener("click",()=>{o.classList.contains("paused")?P():y()}),l.addEventListener("click",()=>{O()}),L.addEventListener("click",()=>{A()}),q.addEventListener("click",()=>{x.classList.add("show")}),T.addEventListener("click",()=>{x.classList.remove("show")});for(let t=0;t<a.length;t++){let n=`
            <li data-index="${t+1}">
                <span class="img">
                    <img class="img" src="images/${a[t].img}.png" alt="${a[t].name}"> 
                </span>                               
                <span class="title">
                    <strong>${a[t].name}</strong>
                    <em>${a[t].artist}</em>
                    <audio class="${a[t].audio}" src="audio/${a[t].audio}.mp3"></audio>
                </span>
                <span class="audio-duration" id="${a[t].audio}">04:20</span>
            </li>
        `;b.insertAdjacentHTML("beforeend",n);let u=b.querySelector(`#${a[t].audio}`),g=b.querySelector(`.${a[t].audio}`);g.addEventListener("loadeddata",()=>{let v=g.duration,p=Math.floor(v/60),f=Math.floor(v%60);f<10&&(f=`0${f}`),u.innerText=`${p}:${f}`,u.setAttribute("data-duration",`${p}:${f}`)})}function h(){const t=b.querySelectorAll("li");for(let n=0;n<t.length;n++){let u=t[n].querySelector(".audio-duration");if(t[n].addEventListener("click",function(){D(this)}),t[n].classList.contains("playing")){t[n].classList.remove("playing");let g=u.getAttribute("data-duration");u.innerText=g}t[n].getAttribute("data-index")==c&&(t[n].classList.add("playing"),u.innerText="재생중")}}h();function D(t){c=t.getAttribute("data-index"),_(c),y(),h()}window.addEventListener("load",()=>{_(c),h()})}B();I();
